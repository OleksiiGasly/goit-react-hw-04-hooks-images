(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{29:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=(a(29),a(5)),i=a.n(s),u=a(14),l=a(11),b=a(4),m=a(15),j=a(12),d=a.n(j);d.a.defaults.baseURL="https://pixabay.com/api/",d.a.defaults.params={key:"22610710-77f064d5489dfe1781c9024b3",image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:12};var f=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("?q=".concat(t,"&page=").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data.hits);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=f,g=(a(49),a(1)),p=function(e){var t=e.onSearch;return Object(g.jsx)("header",{className:"Searchbar",children:Object(g.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageTags.value),e.target.reset()},children:[Object(g.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(g.jsx)("input",{className:"SearchForm-input",name:"imageTags",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},O=(a(51),function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.imageTags,r=e.tags,c=e.handleSelectedImage;return Object(g.jsx)("li",{className:"ImageGalleryItem",children:Object(g.jsx)("img",{src:t,alt:r,className:"ImageGalleryItem-image",onClick:function(){return c(a,n)}})})}),x=(a(52),function(e){var t=e.gallery,a=e.handleSelectedImage;return Object(g.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.largeImageURL,r=e.webformatURL;return Object(g.jsx)(O,{largeImageURL:n,webformatURL:r,handleSelectedImage:a},t)}))})}),v=(a(53),function(e){var t=e.handleLoadMore;return Object(g.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}),y=(a(54),document.querySelector("#modal-root")),S=function(e){var t=e.onClose,a=e.largeImageURL,r=e.tags,o=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(g.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(g.jsxs)("div",{className:"Modal",children:[o,Object(g.jsx)("img",{src:a,alt:r})]})}),y)},w=(a(55),a(24)),k=a.n(w),I=(a(76),function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(b.a)(c,2),s=o[0],j=o[1],d=Object(n.useState)([]),f=Object(b.a)(d,2),O=f[0],y=f[1],w=Object(n.useState)("idle"),I=Object(b.a)(w,2),L=I[0],N=I[1],R=Object(n.useState)(!1),U=Object(b.a)(R,2),E=U[0],C=U[1],T=Object(n.useState)(""),F=Object(b.a)(T,2),M=F[0],q=F[1],B=Object(n.useState)(""),G=Object(b.a)(B,2),P=G[0],J=G[1],_=function(){C(!E)},z=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==a){e.next=3;break}return e.abrupt("return");case 3:return N("pending"),e.next=6,h(a,s);case 6:if(t=e.sent,y((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),N("resolved"),z(),0!==t.length){e.next=12;break}return e.abrupt("return",Object(m.b)("Sorry, there are no images matching your search query. Please try again."));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),N("rejected"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,s]);var D="pending"===L,H=O.length>0&&!D;return Object(g.jsxs)("div",{children:[E&&Object(g.jsx)(S,{onClose:_,largeImageURL:M,alt:P}),Object(g.jsx)(p,{onSearch:function(e){j(1),y([]),r(e)}}),D&&Object(g.jsx)(k.a,{type:"Puff",color:"#eb8634",height:84,width:84,style:{marginLeft:"666px",marginTop:"20px",marginBottom:"20px"},timeout:2e3}),Object(g.jsx)(x,{gallery:O,handleSelectedImage:function(e,t){q(e),J(P),_()}}),H&&Object(g.jsx)(v,{handleLoadMore:function(){j((function(e){return e+1}))}}),Object(g.jsx)(m.a,{position:"top-right"})]})});o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.b95097d5.chunk.js.map